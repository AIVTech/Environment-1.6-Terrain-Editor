#version 400 core

in vec2 pass_uvCoordinate;
in vec3 surfaceNormal;

out vec4 out_color;

uniform sampler2D textureSampler;

// brush settings
in float shouldPaint;
in vec4 fragment_BrushColor;

void main(void)
{
	vec4 colorFromTexture = texture(textureSampler, pass_uvCoordinate);
	
	if (shouldPaint > 0)
	{
		out_color = mix(colorFromTexture, fragment_BrushColor, 0.14);
	}
	else 
	{
		out_color = colorFromTexture;
	}
	
	// transparancy
	if (out_color.a < 0.5) 
	{
		discard;
	}
}